{% extends "views/base.html" %}
{% block content %}
  <!--Page Styles/Scripts-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker.standalone.min.css">
  <script src="{{url_for("main.static", filename="js/lib/morris.min.js")}}"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
  <script src="{{url_for("main.static", filename="js/utils.js")}}"></script>
  <script src="{{url_for("main.static", filename="js/analytics.js")}}"></script>
  <script src="{{url_for("main.static", filename="js/charts.js")}}"></script>
  <link href="{{url_for("static", filename="main/css/lib/morris.css")}}" rel="stylesheet" type="text/css">
  <link href="{{url_for("static", filename="main/css/account.css")}}" rel="stylesheet" type="text/css">
  <script> jQuery(function($){analyticsInit(); initCharts();}); </script>

  <div class="row mt-4 mb-2" id="main">
    <div class="col-md-12 p-0">
      <!--Chart Panel-->
      <div class="hpanel mb-3">
        <div class="panel-heading" hidden>
          <div class="col-12 text-center">
            <h5 class="analy-title text-center mb-0">
              <span id="grp_type"></span> Gift Estimates, 
              <span id="title_start_d"></span>&ndash;
              <span id="title_end_d"></span>
            </h5>
          </div>
        </div>
        <div class="analy-panel panel-body p-3">
          <!--Chart Summary-->
          <div id="summary" class="p-3" hidden>
            <div><b><span id="total"></span></b> Total</div>
            <div><b><span id="avg"></span></b> Average</div>
          </div>
          <!--Logo-->
          <div class="row loading" style="height:600px">
            <div class="col-12 text-center my-auto">
              <div class="chart-logo mx-auto"></div>
              <h1 class="chart-logo-title mt-4">
                Gift Graph
              </h1>
              <p class="chart-instr mt-3">
                Analyze your gift data by selecting a date range below.
              </p>
            </div>
            <div class="mx-auto my-auto" hidden>
              <i class="spinner fa fa-circle-o-notch fa-spin fa-5x fa-fw"></i>
            </div>
          </div>
          <!--Morris Chart-->
          <div class="col chart mx-auto" id="chart" hidden></div>
        </div>
        <div class="panel-footer" style="background-color:white"></div>
      </div>
    </div>
  </div>
  <!--Chart Controls-->
  <div class="d-flex justify-content-center">
    <div class="col-5 input-daterange input-group">
      <input id="start-date" name="start" type="text" class="form-control" placeholder="FROM (mm/dd/yyyy)">
      <div id="start-btn" class="input-group-addon fa fa-calendar"></div>
      <input id="end-date" name="end" type="text" class="form-control" placeholder="UNTIL (mm/dd/yyyy)">
      <div id="end-btn" class="input-group-addon fa fa-calendar"></div>
    </div>
    <div class="dropdown">
      <button type="button" class="btn btn-secondary dropdown-toggle" style="" data-toggle="dropdown">Preset Periods</button>
      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="filterBtn">
        <a class="dropdown-item" id="fltr-all" href="#">Last 7 Days</a>
        <a class="dropdown-item" id="fltr-read" href="#">This Month</a>
        <a class="dropdown-item" id="fltr-unread" href="#">Last 3 Months</a>
        <a class="dropdown-item" id="fltr-unreg" href="#">This Year</a>
      </div>
    </div>
    <button type="button" id="analyze" class="btn btn-primary ml-3" disabled>Analyze Gifts</button>
  </div>
{% endblock %}
