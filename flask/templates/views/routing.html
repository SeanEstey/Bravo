  {% extends "views/base.html" %}
  {% block content %}  
  <script type="text/javascript" 
          src="//cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.16/socket.io.min.js">
  </script>
	<script type='text/javascript' 
					src="{{url_for('static', filename='js/base.js')}}">
	</script>
  
  <div style='margin:40px 10px 40px 10px; text-align:center'>
    <h3 class='thin'>
    <script>
      var date = new Date();
      document.write('<b>' + date.toString('dddd, MMMM d, yyyy') + '</b>');
    </script>
    </h3>
  </div>
  <div id='status-banner' class='status-banner-div'>{{banner_msg}}</div>
  
  <div class='data-container'>
    <div class='navbar-div'>
			Routing
		</div>
    <table class='table table-hover table-colored'>
      <thead>
        <tr>
					<th>Date</th>
					<th>Block</th>
					<th style='width:120px;'>Routing Status</th>
          <th>Orders</th>
          <th style='width:90px;'>Block Size</th>
					<th>Depot</td>
          <th style='width:130px'>Route Length</th>
          <th>Command</th>
          <th style='width:30%'>Warnings</th>
        </tr>
      </thead>
      <tbody>
      {% for route in routes %}
        <tr>
          <td>{{ route.date.strftime("%A %b %d") }}</td>
          <td>{{ route.block }}</td>
          <td>{{ route.status }}</td>
          <td>{{ route.orders }}</td>
          <td>{{ route.block_size }}</td>
					<td>{{ route.end_address }}</td>
          <td>{{ (route.duration/60)|round(0,'floor')|int }} hrs {{ route.duration % 60 }} min</td>
          <td><a class='hover' href="{{url_for('_build_route',block=route.block) }}">Route It</a></td>
          {% if route.geocode_warnings is defined %}
            <td>
              <table style='width:100%;'>
              {% for warning in route.geocode_warnings %}
                <tr><td cellpadding="0" style='font-size:8pt'>{{ warning }}</td></tr>
              {% endfor %}
              </table>
            </td>
          {% else %}
            <td></td>
          {% endif %}
				</tr>
      {% endfor %}
      </tbody>
    </table>
    </div>
  </div>
  {% endblock %}


